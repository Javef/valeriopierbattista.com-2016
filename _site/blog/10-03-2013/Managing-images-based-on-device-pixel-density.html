<!DOCTYPE html><!--[if IE 9]><html lang="en" class="ie ie9"><![endif]--><!--[if lt IE 9]><html lang="en" class="ie ie-legacy"><![endif]--><html lang="en"><head><meta charset="utf-8"><title>Valerio Pierbattista - Front End Web Developer</title><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><meta name="description" content="Valerio Pierbattista - Front End Web Developer from Rome, Italy.
		I love simple and functional interfaces optimized for anything that can access the web."><link href="http://fonts.googleapis.com/css?family=Source+Code+Pro|Merriweather:400,700" rel="stylesheet" type="text/css"><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"><link href="/css/main.css" rel="stylesheet" type="text/css"><meta property="og:title" content="Valerio Pierbattista - Front End Web Developer"><meta property="og:type" content="website"><meta property="og:url" content="http://www.valeriopierbattista.com"><meta property="og:image" content="http://www.valeriopierbattista.com/images/dist/facebook-image.png"><meta property="og:description" content="Front End Web Developer from Rome, Italy. I love simple and functional interfaces optimized for anything that can access the web."><meta property="og:site_name" content="http://valeriopierbattista.com/"><meta http-equiv="content-language" content="EN"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script><![endif]--></head><body class="container"><div id="info_cookie" style="display:none" class="cookie-hidden">Questo sito raccoglie dati statistici anonimi sulla navigazione, mediante cookie installati da terze parti autorizzate, rispettando la privacy dei tuoi dati personali e secondo le norme previste dalla legge. Continuando a navigare su questo sito accetti il servizio e gli stessi cookie.<br><div class="ok-cookie cookie-btn"><i class="fa fa-thumbs-up"></i> ok</div><div class="cookie-policy cookie-btn"><a href="cookies.php">cookie policy</a></div></div><div class="this-sidebar"><i id="bars" class="fa fa-bars"></i><div class="sub-container-sidebar"><section itemscope itemtype="http://data-vocabulary.org/Person"><span itemprop="name" class="name">Valerio Pierbattista</span><br><span itemprop="title" class="job"><code>Front end web developer</code></span></section></div><nav class="nav"><ul><li><a href="/index.html"><i class="fa fa-user"></i> About</a></li><li><a href="/work.html"><i class="fa fa-code"></i> Work</a></li><li><a href="/blog"><i class="fa fa-pencil"></i> Blog</a></li><li><a href="/contact.html"><i class="fa fa-send-o"></i> Contact</a></li></ul></nav></div><div class="page-container"><div class="sub-container blog blog-post"><h1>Blog</h1><div class="entry"><p>I finally got to test the behavior of regular images on some retina displays today and see first hand how web images react on high pixel density displays (such as retina displays).</p><p><a href="http://valeriopierbattista.com/blog/wp-content/uploads/2015/01/ipads-1024x768.jpg"><img class="alignnone size-large wp-image-167" src="http://valeriopierbattista.com/blog/wp-content/uploads/2015/01/ipads-1024x768-1024x768.jpg" alt="ipads-1024x768" width="640" height="480"></a></p><p>I prepared an example you can <a href="http://valeriopierbattista.com/blog/wp-content/uploads/2015/01/retina-images.zip">download here</a> so you can see for yourself.</p><p>I decided to follow instructions from the official “<a href="https://developer.apple.com/library/safari/documentation/NetworkingInternet/Conceptual/SafariImageDeliveryBestPractices/ServingImagestoRetinaDisplays/ServingImagestoRetinaDisplays.html">Serving Images Efficiently to Displays of Varying Pixel Density</a>” article from the Apple Developer website and here’s my considerations.</p><h2>What's the matter with regular images on retina displays?</h2><p>Long story short: they render blurry. This happens because, on higher pixel density displays, <a href="http://www.quirksmode.org/blog/archives/2010/04/a_pixel_is_not.html">a pixel is not a pixel</a>. On iPads with retina displays for examples, 1 regular pixels is made of FOUR pixels. So a 50x50px image will be rendered as a 25x25px stretched out to 50x50px. The result is quite aweful as you can imagine.</p><p>In my example, my image (called twitter.png) is 125x125px for normal displays, and scaled up to 250x250px for kick-ass retinas (this one is called twitter_2x.png). The dimensions are doubled just because I’m targeting iPads in my example.  The iPad has a “device-pixel-ratio” of 2 (double than normal). Other devices may have 1.3, 1.5 or even 3 (I’m looking at you Samsung S4), you do the math.</p><h2>The "I don't care" case</h2><p>If you don’t care for the looks of your images on high-def displays,  just keep doing as you always did:</p><pre class="language-markup"><code class="language-markup">&lt;img src="images/twitter.png"&gt;</code></pre><p>One image for everyone. Retina displays will render it blurry but hey… who cares?</p><h2>The "I care but I'm doing it wrong" case</h2><p>In this case, you serve high definition images for everyone via html:</p><pre class="language-markup"><code class="language-markup">&lt;img src="images/twitter_2x.png" width="125" height="125"&gt;</code></pre><p>You’re pointing to a bigger file sized image which will work out perfectly on iPads with retina, but will look slightly “wrong” on normal displays (blur again argh). You’re also wasting bandwidth, which is not good. You’re serving a BIG image even to a devices that don’t need it.</p><p>One other thing you need to specify is the css pixel dimensions of the image in the img attributes, which I personally hate to do. You need to do it because the src points to a big image you need to shrink down, else, you’d be back to case 1: a big blurred image.</p><h2>The "I'm targeting just (some) Apple mobile devices" case</h2><p>Apple developer suggests this method, which i never heard before. I find it quite unconvenient as it’s supported only by newer Apple devices (no desktop, no android, no iPad1, no older iPod Touch). It suggests to load two different images with css background with the following code:</p><pre class="language-css"><code class="language-css">.header {
  background: url(../images/notworking.png); /*this image kicks in if the webkit image set feature is not supported */
  background: -webkit-image-set(url(../images/twitter.png) 1x, url(../images/twitter_2x.png) 2x);
  height: 125px;
  /* height in CSS pixels */
  width: 125px;
  /* width in CSS pixels */
}</code></pre><p>Of course if this is not working you could back it up with a fallback image (notworking.png in my case) but that’s too much syntax to write for something that is not even supported in the latest Chrome for Desktop. This leads us to the best way to deliver the right image to the right device in my opinion: using mediaqueries!</p><h2>@media all and (-webkit-device-pixel-ratio: 2)</h2><p>Using the css backgroud property you can target “normal” displays and with a simple mediaquery you can override the image path targeting higher density screens with the following code:</p><pre class="language-css"><code class="language-css">.header-mq {
  background-image: url(../images/twitter.png);
  height: 125px;
  width: 125px;
}

@media all and (-webkit-device-pixel-ratio: 2) {
  .header-mq {
    background-image: url(../images/twitter_2x.png);
    -webkit-background-size: 100%;
    background-size: 100%;
  }
}</code></pre><p>This code speaks for itself and what’s best is it just WORKS.. On mobile, on desktop browsers, both on Apple or Android. Mediaqueries just work!</p><h2>Serving Images With JavaScript</h2><p>I won’t cover this topic on this post as I think it deserves one on its own. There are many many ways so serve the right images to the right device with javascript but it can get quite tricky. Quoting Apple Developer’s website:</p><blockquote>You are placing code relating to visual data in your logic, a faux pas according to the Model-View-Controller design pattern.</blockquote><p>I would like to give it a try soon though.</p><h2>What's my device pixel density?</h2><p>Tada! <a href="http://bjango.com/articles/min-device-pixel-ratio/">http://bjango.com/articles/min-device-pixel-ratio/</a></p><p>Access this website from any device and you will know ;)</p><p class="sharethis">Share this:</p><div class="social-cont"><div class="social-box facebook"><a href="https://facebook.com/sharer.php?u=/blog/10-03-2013/Managing-images-based-on-device-pixel-density.html" rel="nofollow" target="_blank" title="Share on Facebook"><i class="fa social-ico fa-facebook"></i></a></div><div class="social-box twitter"><a href="https://twitter.com/intent/tweet?text=Managing Images Based On Device Pixel Density&url=/blog/10-03-2013/Managing-images-based-on-device-pixel-density.html&via=&related=" rel="nofollow" target="_blank" title="Share on Twitter"><i class="fa social-ico fa-twitter"></i></a></div><div class="social-box linkedin"><a href="http://www.linkedin.com/shareArticle?mini=true&url=/blog/10-03-2013/Managing-images-based-on-device-pixel-density.html&title=Managing Images Based On Device Pixel Density&source=" target="_blank"><i class="fa social-ico fa-linkedin"></i></a></div></div><a href="#" onclick="window.history.back()">Back</a></div></div></div><footer class="footer"><div class="sub-container-sidebar"><div class="site-info">Hand-Coded with <i class="fa fa-heart"></i> in Rome (Italy) using <a href="http://jekyllrb.com/" target="_blank">Jekyll</a>, <a href="http://sass-lang.com/" target="_blank">Sass</a>, <a href="http://compass-style.org/" target="_blank">Compass</a>, <a href="http://jquery.com/" target="_blank">jQuery</a>, <a href="http://susy.oddbird.net/" target="_blank">Susy</a> and <a href="http://gruntjs.com/" target="_blank">Grunt</a>. // <a href="/cookies.html">Privacy and Cookie Policy</a></div><div class="footer-sep"></div><div class="social-cont"><div class="social-box email"><a href="mailto:omegaiori@gmail.com" target="_blank"><i class="fa social-ico fa-envelope"></i></a></div><div class="social-box twitter"><a href="https://twitter.com/vlrprbttst" target="_blank"><i class="fa social-ico fa-twitter"></i></a></div><div class="social-box youtube"><a href="https://www.youtube.com/user/valeriopierbattista" target="_blank"><i class="fa social-ico fa-youtube"></i></a></div><div class="social-box instagram"><a href="http://instagram.com/vlrprbttst" target="_blank"><i class="fa social-ico fa-instagram"></i></a></div><div class="social-box linkedin"><a href="https://www.linkedin.com/profile/view?trk=tab_pro&id=92711655" target="_blank"><i class="fa social-ico fa-linkedin"></i></a></div><div class="social-box github"><a href="http://github.com/vlrprbttst" target="_blank"><i class="fa social-ico fa-github"></i></a></div><div class="social-box codepen"><a href="http://codepen.io/vlrprbttst" target="_blank"><i class="fa social-ico fa-codepen"></i></a></div><div class="social-box cv"><a href="http://valeriopierbattista.com/cv" target="_blank"><i class="fa social-ico fa-file-text-o"></i></a></div></div></div></footer><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42737159-1', 'auto');
  ga('set', 'anonymizeIp', true);
  ga('send', 'pageview');</script><script src="/js/production.min.js"></script></body></html>